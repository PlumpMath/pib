\section{WP3 - Environment}

The main architecture comes from \cite{DeclarativeArchitecture}. It is a
layered architecture, from large-scale features to low-scale ones. Each feature
covers a user-delimited areas, which may be further reduced because of
conflicts with the surrounding features. The modularity of the architecture
allows features to be edited independently of each other. The output may
include: an height map, a texture map and additional objects to be added on top
of this such as a water map, vegetation or buildings.
% Interface with the crowd team: summarize as an accessibility map.

The height map is generated using the tree structure described in
\cite{FeatureTree}. The conversion from the layered architecture amounts to
choosing the appropriate merging nodes: the leaves are exactly the features of
the layers. Furthermore, this representation can compute the height at any
point, allowing a greater level of detail when and where needed.

Generating cities is done in three consecutive steps: \begin{enumerate}
  \item Create the road network. This will be done using the method proposed in
    \cite{StreetTensors}, which seems to support easy edition.
  \item Divide each block into parcels, following the method given in
    \cite{PGParcels}.
  \item Generate a building in each parcel. This can be done either using
    predefined buildings or procedurally generated using L-systems, as in
    \cite{FLSystem}.
\end{enumerate}
